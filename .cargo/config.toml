# Cargo configuration for macOS with pyenv
[target.'cfg(target_os = "macos")']
# Use dynamic lookup for Python symbols
rustflags = [
    "-C", "link-arg=-undefined",
    "-C", "link-arg=dynamic_lookup"
]

# Set environment variables for PyO3
[env]
# PYO3_PYTHON and PYTHONPATH are intentionally not set here for portability.
# Set these in your shell or CI environment if needed.
# PYO3_PYTHON_VERSION is intentionally not set for maximum portability.
MACOSX_DEPLOYMENT_TARGET = "11.0"

[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=lld"]